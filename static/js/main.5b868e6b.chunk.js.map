{"version":3,"sources":["service/service-api.jsx","helpers/maper.jsx","Components/filmGallery/FilmGallery.jsx","Components/button/Button.jsx","Components/LoaderJs/LoaderJs.jsx","App.js","index.js"],"names":["getImages","page","axios","get","mapper","films","map","img","backdrop_path","title","text","overview","id","FilmGallery","src","alt","Button","onClick","type","LoaderSp","color","height","width","timeout","INITIAL_STATE","App","state","isLoading","getFilms","setState","API","then","data","console","log","results","prevState","catch","err","finally","onLoadMore","this","prevProps","Component","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"qQAOaA,EAAY,SAACC,GAAD,OAAUC,IAAMC,IAAN,UAHnB,kDAGmB,oBAJpB,mCAIoB,iBAA+CF,KCPrEG,EAAS,SAACC,GACtB,OAAOA,EAAMC,KAAI,kBAAwD,CACxEC,IADgB,EAAGC,cAEnBC,MAFgB,EAAuBA,MAGvCC,KAHgB,EAA8BC,SAI9CC,GAJgB,EAA8CA,Q,OC2BjDC,EAzBK,SAAC,GAAD,IAAGR,EAAH,EAAGA,MAAH,OAChB,6BACKA,EAAMC,KAAI,YAA+B,IAA5BM,EAA2B,EAA3BA,GAAIL,EAAuB,EAAvBA,IAAKE,EAAkB,EAAlBA,MAAOC,EAAW,EAAXA,KAE1B,OACI,+BACI,6BACKD,IAEL,4BACKC,IAEL,qBAAKI,IAAG,0CAAqCP,GAAOQ,IAAKN,MAPpDG,SCKVI,EAVA,SAAC,GAAD,IAAEC,EAAF,EAAEA,QAAF,OAEX,wBACIC,KAAK,SACLD,QAAUA,EAFd,wB,iBCGWE,EANE,kBAChB,8BACC,cAAC,IAAD,CAAeD,KAAK,YAAYE,MAAM,OAAOC,OAAQ,IAAKC,MAAO,IAAKC,QAAS,SCG3EC,EAAgB,CACpBvB,KAAM,EACNI,MAAO,IAGHoB,E,4MAEJC,M,2BACKF,G,IACHG,WAAW,EACXjB,KAAM,K,EAgBVkB,SAAW,SAAC3B,GACR,EAAK4B,SAAS,CAAEF,WAAW,IAC3BG,EAAc7B,GACX8B,MAAK,YAAe,IAAZC,EAAW,EAAXA,KACPC,QAAQC,IAAIF,EAAKG,SACjB,EAAKN,UAAS,SAACO,GACb,MAAO,CACL/B,MAAM,GAAD,mBAAM+B,EAAU/B,OAAhB,YAA0BD,EAAO4B,EAAKG,kBAIhDE,OAAM,SAACC,GACNL,QAAQC,IAAII,MAEbC,SAAQ,WACP,EAAKV,SAAS,CAAEF,WAAW,Q,EAIjCa,WAAa,WACX,IAAMvC,EAAS,EAAKyB,MAAdzB,KACPA,GAAQ,EACR,EAAK4B,SAAS,CAAE5B,U,uDAnCjB,WACE,IAAQA,EAASwC,KAAKf,MAAdzB,KACRwC,KAAKb,SAAS3B,K,gCAIhB,SAAmByC,EAAWN,GAC5B,IAAQnC,EAASwC,KAAKf,MAAdzB,KACJmC,EAAUnC,OAASA,GACrBwC,KAAKb,SAAS3B,K,oBA+BlB,WACE,IAAQ0B,EAAcc,KAAKf,MAAnBC,UACV,OACE,gCACE,cAAC,EAAD,CAAatB,MAAOoC,KAAKf,MAAMrB,QAC/B,cAAC,EAAD,CAAQY,QAASwB,KAAKD,aACrBb,GAAa,cAAC,EAAD,W,GAtDFgB,aA6DHlB,ICnEfmB,IAASC,OACP,cAAC,IAAMC,WAAP,UACE,cAAC,EAAD,MAEFC,SAASC,eAAe,W","file":"static/js/main.5b868e6b.chunk.js","sourcesContent":["import axios from 'axios';\r\n\r\n\r\nconst apiKey = 'a92e1c28ff5839246667e5b68c28f141';\r\nconst baseUrl = 'https://api.themoviedb.org/3/trending/movie/day';\r\n\r\n\r\nexport const getImages = (page) => axios.get(`${baseUrl}?api_key=${apiKey}&page=${page}`)\r\n\r\n","export const mapper = (films) => {\r\n\treturn films.map(({ backdrop_path: img, title, overview: text, id }) => ({\r\n\t\timg,\r\n\t\ttitle,\r\n\t\ttext,\r\n\t\tid,\r\n\t}));\r\n};\r\n","import React from \"react\";\r\nimport PropTypes from \"prop-types\";\r\n\r\nconst FilmGallery = ({ films }) => (\r\n    <ul>\r\n        {films.map(({ id, img, title, text }) => {\r\n            \r\n            return (\r\n                <li key={id}>\r\n                    <h2>\r\n                        {title}\r\n                    </h2>\r\n                    <p>\r\n                        {text}\r\n                    </p>\r\n                    <img src={`https://image.tmdb.org/t/p/w400/${img}`} alt={title} />\r\n\r\n                </li>\r\n            )\r\n        })}\r\n    </ul>\r\n\r\n);\r\n\r\nFilmGallery.propTypes = {\r\n    films: PropTypes.array.isRequired\r\n}\r\n\r\nexport default FilmGallery;","import React from \"react\";\r\nimport PropTypes from \"prop-types\";\r\n\r\nconst Button = ({onClick})  => (\r\n    \r\n    <button\r\n        type=\"button\"\r\n        onClick ={onClick}\r\n    >\r\n        Load more\r\n    </button>\r\n)\r\n\r\nexport default Button;","import LoaderSpinner from 'react-loader-spinner';\r\n\r\nconst LoaderSp = () => (\r\n\t<div>\r\n\t\t<LoaderSpinner type=\"ThreeDots\" color=\"pink\" height={100} width={100} timeout={10000} />\r\n\t</div>\r\n);\r\n\r\nexport default LoaderSp;\r\n","import React, { Component } from \"react\";\nimport * as API from \"./service/service-api\";\nimport { mapper } from \"./helpers/maper\";\nimport FilmGallery from \"./Components/filmGallery/FilmGallery\";\nimport Button from \"./Components/button/Button\";\nimport LoaderSp from \"./Components/LoaderJs/LoaderJs\"\n\nconst INITIAL_STATE = {\n  page: 1,\n  films: []\n}\n\nclass App extends Component {\n\n  state = {\n    ...INITIAL_STATE,\n    isLoading: false,\n    text: ''\n  };\n  \n  componentDidMount() {\n    const { page } = this.state;\n    this.getFilms(page);\n\n  }\n\n  componentDidUpdate(prevProps, prevState) {\n    const { page } = this.state;\n    if (prevState.page !== page ) {\n      this.getFilms(page);\n    }\n  }\n\ngetFilms = (page) => {\n    this.setState({ isLoading: true });\n    API.getImages(page)\n      .then(({ data }) => {\n        console.log(data.results);\n        this.setState((prevState) => {\n          return {\n            films: [...prevState.films, ...mapper(data.results)],\n          };\n        });\n      })\n      .catch((err) => {\n        console.log(err);\n      })\n      .finally(() => {\n        this.setState({ isLoading: false });\n      });\n};\n  \n  onLoadMore = () => {\n    let { page } = this.state;\n\t \tpage += 1;\n\t \tthis.setState({ page });\n  }\n\n\n\n  render() {\n    const { isLoading } = this.state;\n  return (\n    <div>\n      <FilmGallery films={this.state.films} />\n      <Button onClick={this.onLoadMore} />\n      {isLoading && <LoaderSp />}\n    </div>\n\n    );\n  }\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\n\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n"],"sourceRoot":""}