(this["webpackJsonppraktika-29-10-21"]=this["webpackJsonppraktika-29-10-21"]||[]).push([[0],{28:function(t,e,n){},68:function(t,e,n){"use strict";n.r(e);var i=n(0),c=n.n(i),a=n(17),o=n.n(a),r=(n(28),n(7)),s=n(8),u=n(18),l=n(19),j=n(23),d=n(22),p=n(20),h=n.n(p),f=function(t){return h.a.get("".concat("https://api.themoviedb.org/3/trending/movie/day","?api_key=").concat("a92e1c28ff5839246667e5b68c28f141","&page=").concat(t))},b=function(t){return t.map((function(t){return{img:t.backdrop_path,title:t.title,text:t.overview,id:t.id}}))},g=n(1),m=function(t){var e=t.films;return Object(g.jsx)("ul",{children:e.map((function(t){var e=t.id,n=t.img,i=t.title,c=t.text;return Object(g.jsxs)("li",{children:[Object(g.jsx)("h2",{children:i}),Object(g.jsx)("p",{children:c}),Object(g.jsx)("img",{src:"https://image.tmdb.org/t/p/w400/".concat(n),alt:i})]},e)}))})},O=function(t){var e=t.onClick;return Object(g.jsx)("button",{type:"button",onClick:e,children:"Load more"})},v=n(21),x=n.n(v),k=function(){return Object(g.jsx)("div",{children:Object(g.jsx)(x.a,{type:"ThreeDots",color:"pink",height:100,width:100,timeout:1e4})})},y={page:1,films:[]},L=function(t){Object(j.a)(n,t);var e=Object(d.a)(n);function n(){var t;Object(u.a)(this,n);for(var i=arguments.length,c=new Array(i),a=0;a<i;a++)c[a]=arguments[a];return(t=e.call.apply(e,[this].concat(c))).state=Object(s.a)(Object(s.a)({},y),{},{isLoading:!1,text:""}),t.getFilms=function(e){t.setState({isLoading:!0}),f(e).then((function(e){var n=e.data;console.log(n.results),t.setState((function(t){return{films:[].concat(Object(r.a)(t.films),Object(r.a)(b(n.results)))}}))})).catch((function(t){console.log(t)})).finally((function(){t.setState({isLoading:!1})}))},t.onLoadMore=function(){var e=t.state.page;e+=1,t.setState({page:e})},t}return Object(l.a)(n,[{key:"componentDidMount",value:function(){var t=this.state.page;this.getFilms(t)}},{key:"componentDidUpdate",value:function(t,e){var n=this.state.page;e.page!==n&&this.getFilms(n)}},{key:"render",value:function(){var t=this.state.isLoading;return Object(g.jsxs)("div",{children:[Object(g.jsx)(m,{films:this.state.films}),Object(g.jsx)(O,{onClick:this.onLoadMore}),t&&Object(g.jsx)(k,{})]})}}]),n}(i.Component),w=L;o.a.render(Object(g.jsx)(c.a.StrictMode,{children:Object(g.jsx)(w,{})}),document.getElementById("root"))}},[[68,1,2]]]);
//# sourceMappingURL=main.5b868e6b.chunk.js.map